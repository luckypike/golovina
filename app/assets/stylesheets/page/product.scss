&_product {
  &_item {

  }

  &_form {
    .form {
      max-width: $s;
    }

    &_state {
      margin-top: $space-s;
    }

    &_variants {
      &_variants {
        margin-top: $space-s;
        max-width: $s;

        .form {
          margin-bottom: $space-s;
          border-bottom: 1px solid $separator-color;
          padding-bottom: $space-s;

          h3 {
            margin-bottom: $base-rhythm-line;
          }

          .form_photos {
            &_list {
              margin-bottom: $space-s;
              // display: flex;

              &_item {
                margin-bottom: $base-rhythm-line;


                img {
                  display: block;
                  width: 100px;
                  margin-right: $gutter;
                }

                input {
                  border: 1px solid $separator-color;;
                  border-radius: 0;
                  font-family: inherit;
                  font-size: inherit;
                  font-weight: inherit;
                  line-height: inherit;
                  padding: 0  $gutter;
                  width: 60px;
                  margin-bottom: $base-rhythm-line;
                }

                a {
                  @include font-size-small;
                  display: block;
                  float: right;
                  appearance: none;
                  background: transparent;
                  border: 1px solid $highlight-color;
                  cursor: pointer;
                  color: $primary-color;
                  padding: $base-rhythm-line $gutter;
                  user-select: none;
                  text-align: center;
                }

              }
            }

            @include mq($s) {
              &_list {
                display: flex;
                flex-wrap: wrap;

                &_item {
                  // margin-bottom: 0;
                  margin-right: $gutter;
                  position: relative;

                  img {
                    margin-right: 0;
                  }

                  a {
                    float: none;
                    background-color: $op-color;
                    position: absolute;
                    left: $base-rhythm-line / 2;
                    bottom: $base-rhythm-line / 2;
                    padding: 0  $gutter / 2;
                  }
                }
              }
            }
          }

          .form_actions {
            display: none;
          }
        }



        .dropzone {
          border: 1px dashed $highlight-color;
          // border-radius: 5px;
          background: $sand-color;
          min-height: $space-m2;
          padding: $space-s $gutter;

          .dz-message {
            text-align: center;
          }

          .dz-preview {
            padding: 0;
            margin-top: $base-rhythm-line;
            display: flex;
            width: auto;

            &.dz-success {
              display: none;
            }
          }

          .dz-image {
            img {
              height: 40px;
              width: 40px;
            }
          }

          .dz-progress {
            background-color: $separator-color;
            border: 0;
            width: 170px;
            margin-left: $gutter;
            height: 40px;
          }

          .dz-details {
            display: none;
          }

          .dz-success-mark, .dz-error-message, .dz-error-mark, .dz-success-mark {
            display: none;
          }
        }
      }

      &_variant {
        .toggle {

        }

        .form {
          display: none;
          // display: flex;
        }

        .form_actions {
          // padding-left: $gutter;
          // padding-top: 28px;

          .btn {
            padding: $base-rhythm-line / 2 $gutter;
            margin-right: $gutter;
          }
        }
      }
    }


  }

  &_kits {
    .kits {

      &_title {
        text-align: center;
      }

      &_item {
        .image {
          .img {
            @include aspect-ratio(4, 5);
          }
        }

        .title {
          .theme {
            @include font-size-small();

            display: inline-block;
            background: $sand-color;
            padding: 0 $gutter / 2;

            @include mq($m) {
              // @include font-size(2.25, 4);
            }
          }
        }

        @include mq($m) {
          @include column-pane;

          .image {
            @include column-width(6, 12);
          }

          .title {
            @include column-width(5, 12);
            @include column-shift(1, left, 12);

            align-self: center;


          }

          &.i_0 {
            .image {
              order: 1;
            }

            .title {
              @include column-width(5, 12);
              @include column-shift(1, right, 12);
              @include column-shift(0, left, 12);
            }
          }

        }
      }

      @include mq($m) {
        padding: 0 $gutter;
      }

      @include mq($l) {
        padding: 0;
      }
    }
  }

  &_similar {
    > .title {
      text-align: center;
    }
  }

  .product {
    &_images {
      @include mq($m) {
        .images_list {
          display: block;

          &_item {
            height: auto;
            margin-bottom: $base-rhythm-line * 4;
          }
        }
      }
    }

    &_data {

      @include mq($m) {
        .data {
          // position: fixed;
          // width: 4 / 12 * 100%;
        }
      }

      @include mq($l) {
        // width: 4 / 16 * 100%;
      }
    }
  }



  @include mq($s) {

  }

  @include mq($m) {


  }

  @include mq($l) {


  }

  @include mq($m) {
    .product {
      // margin-top: $space-s2;
    }
  }
}

.product {
  &_images {
    display: none;

    .images {
      &_list {

      }
    }

    .swiper-pagination {
      @include mq(0 ($m - 1px)) {
        bottom: $base-rhythm-line * 2;

        &-bullet {
          border: 1px solid $op-color;
          width: 10px;
          height: 10px;
          background: none;
          opacity: 1;
          transition: background 0.2s;

          &-active {
            background: $op-color;
          }

          .img {
            display: none;
          }
        }
      }

      @include mq($m) {
        &-bullet {
          width: 56px;
          height: 56px;
          padding: 8px;
          margin: 0;
          opacity: 1;
          background: none;
          transition: transform 0.2s;

          .img {
            border: 1px solid $separator-color;
            border-radius: 50%;
            width: 40;
            height: 40px;
            position: relative;
            background: {
              size: cover;
            };

            &:after {
              content: '';
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
              border: 3px solid $op-color;
              border-radius: 50%;
            }

          }

          &-active {
            .img {
              border-color: $highlight-color;
            }
            transform: scale(1.2);
          }
        }
      }
    }

    .image {
      @include aspect-ratio(4, 5);
    }
  }

  &_data {
    &_wrapper {
      .rest_of {

        .hide_sizes {
          display: none;
        }
      }
    }

    .title_and_color {

      &.lv3 {
        margin-bottom: $base-rhythm-line;
      }

      .title {
        text-align: center;
        margin-bottom: $base-rhythm-line;
      }

      .another_variants {
        cursor: pointer;
        display: flex;
        justify-content: center;
        margin: 2 * $base-rhythm-line 0;

        span {

        }

        .varr_icon {
          display: block;
          width: 10px;
          height: 24px;
          margin-left: $gutter / 2;
          flex-shrink: 0;
          // margin-left: auto;

          polyline {
            fill: none;
            stroke-width: 1px;
            stroke: $primary-color;
            stroke-linecap: butt;
            stroke-linejoin: miter;
          }
        }
      }

      @include mq($s) {
        &.lv3 {
          margin-bottom: 3 * $base-rhythm-line;
        }
      }
    }

    .images {
      .swiper-pagination {
        position: absolute;
        right: $gutter;
        left: auto;
        top: $base-rhythm-line;
        width: auto;
        bottom: auto;
      }

      &_list {
        .image {
          @include aspect-ratio(4, 5);

          background: $sand-color;
        }
      }
    }

    .price_and_buy {
      display: flex;

      .price {
        line-height: 2rem;
        flex-grow: 1;
      }

      .buy {
        flex-shrink: 0;
        margin-left: auto;
      }
    }

    .price {
      display: flex;
      flex-wrap: wrap;

      > div {
        display: inline;
      }

      &_last {
        @include font-size-bigger;

        &.red {
          color: rgb(204, 12, 47);
        }
      }

      &_old {
        margin-left: $gutter;
        text-decoration: line-through;
      }
    }

    .variants {
      display: none;

      &_title {
        margin-top: $base-rhythm-line;
        text-align: center;
      }

      &_list {
        display: flex;
        justify-content: center;
        user-select: none;

        &_item {
          border: 1px solid $separator-color;
          cursor: pointer;
          padding: 2px;
          margin-right: $gutter / 2;

          .icon {
            background: {
              color: $separator-color;
              size: cover;
            };

            height: $base-rhythm-line * 3.25;
            width: $base-rhythm-line * 3.25;

            @include mq($s) {
              height: $base-rhythm-line * 4.25;
              width: $base-rhythm-line * 4.25;
            }
          }

          &:last-child {
            margin-right: 0;
          }

          &.active {
            border-color: $highlight-color;
          }
        }
      }
    }

    .sizes {
      &_title {
        margin-bottom: $base-rhythm-line * 2;
        text-align: center;
      }

      &_list {
        display: flex;
        justify-content: center;
        user-select: none;

        &_item {
          border: 1px solid $separator-color;
          cursor: pointer;
          line-height: 30px;
          width: $base-rhythm-line * 4;
          height: $base-rhythm-line * 4;
          text-align: center;
          margin-right: $gutter / 2;
          transition: color 0.2s, border 0.2s;
          position: relative;

          @include mq($s) {
            line-height: 38px;
            height: $base-rhythm-line * 5;
            width: $base-rhythm-line * 5;
          }


          .cross_line {
            display: block;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;

            line {
              stroke: $separator-color;
            }
          }

          &.size_0 {
            color: $op-color;
            display: none;
            background: {
              image: image_url('icons/one_size.svg');
            }
          }

          &.inactive {
            color: $separator-color;
            cursor: default;
            border-color: $separator-color;



            .cross_line {
              opacity: 1;
              visibility: visible;
            }
          }

          &.active {
            border-color: $highlight-color;
          }
        }
      }

      &.one_size {
        .sizes_list {
          &_item {
            display: none;

            &.size_0 {
              display: block;
            }
          }
        }
      }
    }

    .buy {
      max-width: 380px;
      .wishlist {
        border: 1px solid $separator-color;
        margin-left: $gutter / 2;
        padding: calc(#{$base-rhythm-line} - 1px);

        &_icon {
          display: block;
          width: $space-s;
          height: $space-s;

          .a {
            fill: $op-color;
            stroke: $primary-color;
            stroke-miterlimit: 10;
            transition: fill 0.2s;
          }
        }

        &.in_wl {
          .wishlist_icon {
            .a {
              fill: $primary-color;
            }
          }
        }
      }

      .cart {
        transition: background 0.3s, color 0.3s, opacity 0.3s;

        &.inactive {
          opacity: 0.4
        }
      }
    }

    .out_of_stock {
      visibility: hidden;
      color: red;

      &.active {
        visibility: visible;
      }
    }

    .goto {
      text-align: center;
      display: block;
      margin-top: $base-rhythm-line;
      border: 1px solid $separator-color;
      padding: $base-rhythm-line;
    }

    .edit {
      margin-bottom: $base-rhythm-line * 2;

      .btn_gr {
        @include font-size(1.25);

        letter-spacing: 0.1em;
        text-transform: uppercase;

        font-family: inherit;
        font-weight: inherit;
        appearance: none;
        cursor: pointer;
        color: $primary-color;
        display: inline-block;
        padding: $base-rhythm-line / 2 $gutter / 2;
        user-select: none;
      }
    }

    .acc {
      &_item {
        border-bottom: 1px solid $separator-color;
        padding: $base-rhythm-line 0;

        .title {
          display: flex;

          &_label {
            @include font-size-small;
          }

          &_desc {
            align-self: center;
            border: 1px solid $separator-color;
            margin-left: $gutter;
            line-height: 16px;
            // border-radius: 10px;
            padding: 0 $gutter / 2 2px;
            transition: opacity 0.2s;

            &.hdd {
              opacity: 0;
            }

            @include mq($l) {
              line-height: 20px;
            }
          }

          .varr_icon {
            display: block;
            width: 10px;
            height: 24px;
            margin-left: $gutter / 2;
            flex-shrink: 0;
            margin-left: auto;

            polyline {
              fill: none;
              stroke-width: 1px;
              stroke: $primary-color;
              stroke-linecap: butt;
              stroke-linejoin: miter;
            }
          }

        }

        .content {
          display: none;
          padding-bottom: $base-rhythm-line * 2;

          .delivery_fast {
            .tabs {
              display: flex;
              margin-top: $base-rhythm-line * 2;
              margin-bottom: $base-rhythm-line;

              &_item {
                margin-right: $gutter * 2;
                cursor: pointer;

                &:last-child {
                  margin-right: 0;
                }

                &.active {
                  color: $highlight-color;
                }
              }
            }

            .text {
              &_item {
                display: none;

                p {
                  margin-bottom: $base-rhythm-line;
                }

                &.active {
                  display: block;
                }
              }
            }
          }
        }
      }
    }

    &.archived {
      .sizes, .buy {
        display: none;
      }
    }
  }


  @include mq($m) {
    @include column-pane;

    align-items: stretch;
    padding: 0 $gutter;

    &_images {
      @include column-width(6, 12);

      display: block;
    }

    &_data {

      &_wrapper {
        @include column-width(4, 12);
        @include column-shift(1, left, 12);
        @include column-shift(1, right, 12);
      }
      .images {
        display: none;
      }

      .title_and_color {
        .title {
          text-align: left;

          .another_variants {
            display: none;
          }
        }

        .variants {
          display: block;

          &_title {
            text-align: left;
          }

          &_list {
            justify-content: flex-start;
          }
        }
      }

      .rest_of {
        .sizes {
          &_title {
            text-align: left;
          }

          &_list {
            justify-content: flex-start;
          }
        }
      }
    }
  }

  @include mq($l) {
    padding: 0;
  }
}