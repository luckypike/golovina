&_product {
  &_item {

  }

  &_form {
    .form {
      max-width: $s;
    }

    &_state {
      margin-top: $space-s;
    }

    &_variants {
      &_variants {
        margin-top: $space-s;
        max-width: $s;

        .form {
          margin-bottom: $space-s;
          border-bottom: 1px solid $separator-color;
          padding-bottom: $space-s;

          h3 {
            margin-bottom: $base-rhythm-line;
          }

          .form_photos {


            &_list {
              margin-bottom: $space-s;
              // display: flex;

              &_item {
                margin-bottom: $base-rhythm-line;


                img {
                  display: block;
                  width: 100px;
                  margin-right: $gutter;
                }

                a {
                  @include font-size-small;
                  display: block;
                  float: right;
                  appearance: none;
                  background: transparent;
                  border: 1px solid $highlight-color;
                  cursor: pointer;
                  color: $primary-color;
                  padding: $base-rhythm-line $gutter;
                  user-select: none;
                  text-align: center;
                }

              }
            }

            @include mq($s) {
              &_list {
                display: flex;
                flex-wrap: wrap;

                &_item {
                  // margin-bottom: 0;
                  margin-right: $gutter;
                  position: relative;

                  img {
                    margin-right: 0;
                  }

                  a {
                    float: none;
                    background-color: $op-color;
                    position: absolute;
                    left: $base-rhythm-line / 2;
                    bottom: $base-rhythm-line / 2;
                    padding: 0  $gutter / 2;
                  }
                }
              }
            }
          }

          .form_actions {
            display: none;
          }
        }



        .dropzone {
          border: 1px dashed $highlight-color;
          // border-radius: 5px;
          background: $sand-color;
          min-height: $space-m2;
          padding: $space-s $gutter;

          .dz-message {
            text-align: center;
          }

          .dz-preview {
            padding: 0;
            margin-top: $base-rhythm-line;
            display: flex;
            width: auto;

            &.dz-success {
              display: none;
            }
          }

          .dz-image {
            img {
              height: 40px;
              width: 40px;
            }
          }

          .dz-progress {
            background-color: $separator-color;
            border: 0;
            width: 170px;
            margin-left: $gutter;
            height: 40px;
          }

          .dz-details {
            display: none;
          }

          .dz-success-mark, .dz-error-message, .dz-error-mark, .dz-success-mark {
            display: none;
          }
        }
      }

      &_variant {
        .toggle {

        }

        .form {
          display: none;
          // display: flex;
        }

        .form_actions {
          // padding-left: $gutter;
          // padding-top: 28px;

          .btn {
            padding: $base-rhythm-line / 2 $gutter;
            margin-right: $gutter;
          }
        }
      }
    }


  }

  .product {
    &_images {
      @include mq($m) {
        .images_list {
          display: block;

          &_item {
            height: auto;
            margin-bottom: $base-rhythm-line * 4;
          }
        }
      }
    }

    &_data {

      @include mq($m) {
        .data {
          position: fixed;
          width: 4 / 12 * 100%;
        }
      }

      @include mq($l) {
        width: 4 / 16 * 100%;
      }
    }
  }



  @include mq($s) {

  }

  @include mq($m) {


  }

  @include mq($l) {


  }

  @include mq($m) {
    .product {
      // margin-top: $space-s2;
    }
  }
}

.product {
  &_images {
    .images {
      &_list {
      }
    }

    .swiper-pagination {
      @include mq(0 ($m - 1px)) {
        bottom: $base-rhythm-line * 2;

        &-bullet {
          border: 1px solid $op-color;
          width: 10px;
          height: 10px;
          background: none;
          opacity: 1;
          transition: background 0.2s;

          &-active {
            background: $op-color;
          }

          .img {
            display: none;
          }
        }
      }

      @include mq($m) {
        &-bullet {
          width: 56px;
          height: 56px;
          padding: 8px;
          margin: 0;
          opacity: 1;
          background: none;
          transition: transform 0.2s;

          .img {
            border: 1px solid $separator-color;
            border-radius: 50%;
            width: 40;
            height: 40px;
            position: relative;
            background: {
              size: cover;
            };

            &:after {
              content: '';
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
              border: 3px solid $op-color;
              border-radius: 50%;
            }

          }

          &-active {
            .img {
              border-color: $highlight-color;
            }
            transform: scale(1.2);
          }
        }
      }
    }

    .image {
      @include aspect-ratio(4, 5);
    }
  }

  &_data {
    .price {
      display: flex;

      > div {
        display: inline;
      }

      &_last {
        @include font-size-bigger;

        margin-right: $gutter;

        &.red {
          color: rgb(204, 12, 47);
        }
      }

      &_old {
        text-decoration: line-through;
      }
    }

    .variants {
      &_title {
        margin-bottom: $base-rhythm-line * 2;
      }

      &_list {
        display: flex;
        user-select: none;

        &_item {
          border: 1px solid $separator-color;
          cursor: pointer;
          padding: 3px;
          margin-right: $gutter / 2;

          .icon {
            background: {
              color: $separator-color;
              size: cover;
            };
            height: $base-rhythm-line * 4;
            width: $base-rhythm-line * 4;
          }

          &.active {
            border-color: $highlight-color;
          }
        }
      }
    }

    .sizes {
      &_title {
        margin-bottom: $base-rhythm-line * 2;
      }

      &_list {
        display: flex;
        user-select: none;

        &_item {
          border: 1px solid $separator-color;
          cursor: pointer;
          line-height: 38px;
          width: $base-rhythm-line * 5;
          height: $base-rhythm-line * 5;
          text-align: center;
          margin-right: $gutter / 2;
          transition: color 0.2s, border 0.2s;


          .cross_line {
            display: block;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;

            line {
              stroke: $separator-color;
            }
          }

          &.size_0 {
            color: $op-color;
            display: none;
            background: {
              image: image_url('icons/one_size.svg');
            }
          }

          &.inactive {
            color: $separator-color;
            cursor: default;
            border-color: $separator-color;

            position: relative;

            .cross_line {
              opacity: 1;
              visibility: visible;
            }
          }

          &.active {
            border-color: $highlight-color;
          }
        }
      }

      &.one_size {
        .sizes_list {
          &_item {
            display: none;

            &.size_0 {
              display: block;
            }
          }
        }
      }
    }

    .buy {
      display: flex;
      max-width: 380px;

      .wishlist {
        border: 1px solid $separator-color;
        margin-left: $gutter / 2;
        padding: calc(#{$base-rhythm-line} - 1px);

        &_icon {
          display: block;
          width: $space-s;
          height: $space-s;

          .a {
            fill: $op-color;
            stroke: $primary-color;
            stroke-miterlimit: 10;
            transition: fill 0.2s;
          }
        }

        &.in_wl {
          .wishlist_icon {
            .a {
              fill: $primary-color;
            }
          }
        }
      }

      .cart {
        &.inactive {
          color: $separator-color;
          background-color: rgba($separator-color, 0.13);
        }
      }


    }

    .out_of_stock {
      visibility: hidden;
      margin-top: $space-s;

      &.active {
        visibility: visible;
      }
    }

    .goto {
      text-align: center;
      display: block;
      margin-top: $base-rhythm-line;
      border: 1px solid $separator-color;
      padding: $base-rhythm-line;
    }

    .edit {
      margin-top: $base-rhythm-line * 4;
    }
  }


  @include mq($m) {
    @include column-pane;

    padding: 0 $gutter;

    &_images {
      @include column-width(6, 12);
    }

    &_data {
      @include column-width(4, 12);
      @include column-shift(1, left, 12);
      @include column-shift(1, right, 12);
    }
  }

  @include mq($l) {
    padding: 0;
  }
}